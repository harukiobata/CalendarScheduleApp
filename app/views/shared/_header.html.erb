<header class="app-header">
  <nav class="app-header__nav">
    <div class="app-header__brand">
      <%= link_to root_path class: "app-header__logo" do %>
        <i class="bi bi-calendar2-week-fill me-1"></i><span class="app-header__title">MySchedule</span>
      <% end %>
    </div>
    <div class="app-header__menu">
      <% if user_signed_in? %>
        <%= link_to "活動時間を設定", active_times_path, class: "app-header__link" %>
        <div data-controller="dropdown" class="dropdown app-header__dropdown">
          <button class="btn btn-outline-primary dropdown-toggle app-header__user-btn" type="button" id="userMenuButton" data-action="click->dropdown#toggle" aria-expanded="false">
            <i class="bi bi-person-circle"></i><%= current_user.username %>
          </button>
          <ul data-dropdown-target="menu" class="dropdown-menu show-on-visible">
            <li><%= link_to "ユーザー情報編集", edit_user_registration_path, class: "dropdown-item" %></li>
            <li><%= link_to "ログアウト", destroy_user_session_path, data: { turbo_method: :delete }, class: "dropdown-item" %></li>
            <li><%= button_to "アカウント削除", registration_path(:user), method: :delete, data: { confirm: "本当にアカウントを削除しますか？" }, class: "dropdown-item btn-link" %></li>
          </ul>
        </div>
      <% else %>
        <%= link_to "ログイン", new_user_session_path, class: "app-header__link" %> 
        <%= link_to "新規登録", new_user_registration_path, class: "app-header__link" %>
        <%= link_to "ゲストログイン", guest_sign_in_path, method: :post, data: { turbo_method: :post }, class: "app-header__link" %>
      <% end %>
    </div>
  </nav>
</header>